## [Ссылка на GitHub](https://github.com/litvinovmitch11/HSE_LLM_2026/tree/main)

### Шаг 1. Выбор задачи

**Название:** Классификация направленного влияния финансовых новостей на российском рынке

**Формулировка задачи:** Разработка модели на основе LLM для классификации финансовых новостей по их влиянию на цену акций с определением направления движения (рост/падение).

**Тип задачи:** Многоклассовая классификация текстов (3 класса):
- **Класс 0:** Новость не вызовет значимого движения цены (изменение цены в течение `n` минут (или часов) после публикации новости в пределах [`-threshold`, `+threshold`])
- **Класс 1:** Новость вызовет значимый рост цены (изменение > `+threshold`)
- **Класс 2:** Новость вызовет значимое падение цены (изменение < `-threshold`)

**Актуальность:** Трейдеры и инвесторы ежедневно сталкиваются с информационным шумом. Автоматическое определение не только факта влияния новости, но и его направления позволяет:
- Фильтровать действительно значимую информацию
- Принимать более взвешенные торговые решения
- Сокращать время на ручной анализ новостного потока
- Создавать основы для алготорговых стратегий

---

### Шаг 2. Данные
### Датасет: [Russian Financial News](https://www.kaggle.com/datasets/kkhubiev/russian-financial-news/data)

**A. Новостные статьи (`news_collection.parquet`)**
| Поле | Тип | Описание |
|------|-----|----------|
| `title` | string | Заголовок новости |
| `body` | string | Полный текст новости |
| `date` | string | Дата публикации (YYYY-MM-DD) |
| `time` | string | Время публикации (HH:MM) |
| `tags` | list[string] | Тикеры компаний, упомянутых в новости |
| `source` | string | Источник (rdv, bcs, finam, rbc, t-invest) |

**B. Ценовые данные (`candles_data/`)**
- Директория с файлами для каждой компании
- Формат: CSV-файлы со свечными данными (open, high, low, close, volume)
- Период: Июнь 2022 – Декабрь 2024
- Тикеры: 176 компаний, торгуемых на MOEX

Для создания целевой разметки (лейблов 0/1/2) будет выполнен следующий пайплайн:

1. **Фильтрация:** Отбор новостей, где поле `tags` не пустое
2. **Мэтчинг по времени:** Для каждой новости:
   - Определяем тикер из `tags`
   - Находим цену акции в момент публикации (интерполяция по свечным данным)
   - Находим цену через заданный временной горизонт (`H` минут/часов)
3. **Расчет изменения:**  
`price_change = (price_t+H - price_t) / price_t * 100%`

4. **Присвоение лейбла:**
- `label = 1`: `price_change > threshold`
- `label = 2`: `price_change < -threshold`
- `label = 0`: `|price_change| <= threshold`
5. **Формирование текста:** Конкатенация `title + " " + body` для подачи в модель

---

### Шаг 3. Постановка задачи и цели

**"Prediction of Price-Moving Events"**: Классификация направленного влияния финансовых новостей.

**Задача**: научиться предсказывать класс изменения цены (0, 1 или 2) по тексту новости. Подробнее описывалось выше.

**Аудитория**: частные инвесторы, активные трейдеры, инвестиционные аналитики... Известно, что для mid-frequency трейдинга анализ новостей играет очень важную роль, однако открытых инструментов для `MOEX` найдено не было.

Также существует похожее исследование к которому буду обращаться: [Исследование RUDN University](https://events.rudn.su/event/272/contributions/1595/), однако задача, решаемая в статье, отличается от поставленной мною выше.

---

### Шаг 4. Можно ли решить задачу без LLM?

Задачу можно пробовать решать без LLM используя поиск по ключевым словам и наивные классификаторы, однако лучшим решением для этой задачи является использование LLM, так как:

**Контекстное понимание:** LLM понимают, что "компания избежала санкций" и "на компанию наложили санкции" - это противоположные события, хотя ключевое слово "санкции" присутствует в обоих текстах.

**Доменная адаптация:** Финансовый язык имеет свою специфику. LLM можно дообучить на корпусе финансовых текстов, что повышает качество.

**Работа со сложными конструкциями:** Финансовые новости часто содержат сложные грамматические конструкции, условные предложения, цитаты экспертов. LLM лучше справляются с их анализом.

---

### Шаг 5. Выбор метрик

**Accuracy**: Показывает общую долю правильных ответов модели.  
**Macro F1-score**: Учитывает дисбаланс классов.  
**Precision (UP/Down)**: Важно для торговых сигналов: лучше пропустить сделку, чем войти в ложную.  
**Recall (UP/Down)**: Важно для оценки полноты охвата значимых событий.  
**Торговая симуляция (бэктест)**: Можно также попытаться написать простейшую торговую стратегию, основанную на ответах модели и посчитать PnL стратегии.
